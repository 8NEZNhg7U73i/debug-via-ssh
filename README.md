# debug-via-ssh
This GitHub Action allows you to connect to a GitHub Actions runner via SSH for interactive debugging using zerotier.

## Features
It works with Ubuntu, macOS and Windows runners.

## Quick usage
```yaml
- name: Start SSH session
  uses: example/debug-via-ssh@main
  with:
        SSH_PASS: ${{ secrets.SSH_PASS }}
        ZEROTIER_NETWORK_ID: ${{ secrets.ZEROTIER_NETWORK_ID }}
        ZEROTIER_CONFIG: ${{ secrets.ZEROTIER_CONFIG }}
        ZEROTIER_SECRET: ${{ secrets.ZEROTIER_SECRET }}
        ZEROTIER_PUBLIC: ${{ secrets.ZEROTIER_PUBLIC }}
        ZEROTIER_AUTHTOKEN: ${{ secrets.ZEROTIER_AUTHTOKEN }}
        #ZEROTIER_TIMEOUT: ${{ secrets.ZEROTIER_TIMEOUT }}
```

## Settings
### Mandatory
* **SSH_PASS** - The password used for starting a SSH session. For Windows runners, this password must respect some [minimum complexity requirements](https://docs.microsoft.com/en-us/windows/security/threat-protection/security-policy-settings/password-must-meet-complexity-requirements).

### Optional
  * **ZEROTIER_CONFIG** - ZEROTIER Config
  * **ZEROTIER_SECRET** - ZEROTIER identity.secret
  * **ZEROTIER_PUBLIC** - ZEROTIER identity.public
  * **ZEROTIER_AUTHTOKEN** - ZEROTIER authtoken.secret
  * **ZEROTIER_TIMEOUT** - Timeout in seconds for ZEROTIER session

## FAQ
#### How to get zerotier network id?</summary>

1. Go to https://www.zerotier.com/
2. Hit Login in or Sign up in the top right corner
3. Login in or Sign up via GitHub/Google/Microsoft or a standalone account
4. From the given dashboard, you can create a network and get your zerotier network id
5. If you want to use on lots of runners, you should change the Access Control to the public to avoid allow*
6. If you want to set static ip, you can set zerotier public key and private key generated by zerotier-idtool to leep zerotier node id
4. From the given dashboard, you can now get your zerotier auth token

